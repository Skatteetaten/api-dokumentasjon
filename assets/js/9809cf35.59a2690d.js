"use strict";(self.webpackChunkapi_dokumentasjon=self.webpackChunkapi_dokumentasjon||[]).push([[4122],{80467:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"api/trekkpaalegg","title":"Trekkp\xe5legg API","description":"Denne siden beskriver et nytt grensesnitt mellom IT-systemene til Skatteetaten og","source":"@site/docs/api/trekkpaalegg.md","sourceDirName":"api","slug":"/api/trekkpaalegg","permalink":"/api-dokumentasjon/api/trekkpaalegg","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"API","permalink":"/api-dokumentasjon/tags/api"},{"inline":true,"label":"Innkreving","permalink":"/api-dokumentasjon/tags/innkreving"}],"version":"current","frontMatter":{"title":"Trekkp\xe5legg API","slug":"/api/trekkpaalegg","folder":"api","sidebar":"mydoc_sidebar","datatable":true,"tags":["API","Innkreving"],"keywords":["trekkpaalegg","innkreving"],"last_updated":"Apr 11, 2025","hide_table_of_contents":true}}');var r=n(74848),i=n(28453);const l={title:"Trekkp\xe5legg API",slug:"/api/trekkpaalegg",folder:"api",sidebar:"mydoc_sidebar",datatable:!0,tags:["API","Innkreving"],keywords:["trekkpaalegg","innkreving"],last_updated:"Apr 11, 2025",hide_table_of_contents:!0},d=void 0,a={},o=[{value:"Scope",id:"scope",level:2},{value:"Teknisk spesifikasjon",id:"teknisk-spesifikasjon",level:2},{value:"Datakatalog",id:"datakatalog",level:2},{value:"Tenor testdatas\xf8k",id:"tenor-testdatas\xf8k",level:2},{value:"Testdata",id:"testdata",level:2}];function k(e){const t={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{Summary:s,TabItem:l,Tabs:d}=t;return s||c("Summary",!0),l||c("TabItem",!0),d||c("Tabs",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s,{children:"Denne siden beskriver et nytt grensesnitt mellom IT-systemene til Skatteetaten og\ntrekkpliktige/arbeidsgivere."}),"\n",(0,r.jsxs)(d,{underline:!0,children:[(0,r.jsxs)(l,{headerText:"Om tjenesten",itemKey:"itemKey-1",default:!0,children:[(0,r.jsx)(t.p,{children:"M\xe5lgruppen for siden er utviklere og IT-arkitekter hos systemleverand\xf8rer som leverer l\xf8nns- og personalsystemer (eller\nsluttbrukersystemer) til arbeidsgivere. Slike systemer kalles i det videre sluttbrukersystemer og forkortes SBS.\nDet skal etableres et nytt grensesnitt for \xe5 formidle trekkp\xe5legg fra Skatteetaten til arbeidsgivere med ansatte som\nskal ha utleggstrekk i l\xf8nn."}),(0,r.jsx)(t.p,{children:"Grensesnittet vil p\xe5 sikt erstatte det eksisterende grensesnittet for trekkformidling, men i f\xf8rste omgang vil det nye\ngrensesnittet komme i tillegg til det eksisterende grensesnittet. Grensesnittet vil f\xf8rst tilbys i et testmilj\xf8,\nderetter i piloter og til slutt i full produksjon."}),(0,r.jsx)(t.p,{children:"For generell informasjon om tjenester fra Skatteetaten se egne sider om:"}),(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/api-dokumentasjon/om/sikkerhet",children:"Sikkerhetsmekansimer"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/api-dokumentasjon/om/systembruker",children:"Systembruker"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/api-dokumentasjon/om/feil",children:"Feilh\xe5ndtering"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/api-dokumentasjon/om/versjoner",children:"Versjonering"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/api-dokumentasjon/om/tekniskspesifikasjon",children:"Teknisk spesifikasjon"})}),"\n"]}),(0,r.jsx)(t.h2,{id:"scope",children:"Scope"}),(0,r.jsxs)(t.p,{children:["F\xf8lgende scope skal benyttes ved autentisering i Maskinporten: ",(0,r.jsx)(t.code,{children:"skatteetaten:trekkpaalegg"})]}),(0,r.jsx)(t.h2,{id:"teknisk-spesifikasjon",children:"Teknisk spesifikasjon"}),(0,r.jsxs)(t.p,{children:["URL-er til API-et, beskrivelsen av parameterne, endepunkter og respons ligger\ni ",(0,r.jsx)(t.a,{href:"https://app.swaggerhub.com/apis/skatteetaten/trekkpaalegg-app",children:"Open API spesifikasjonen"})," p\xe5 SwaggerHub."]}),(0,r.jsx)(t.p,{children:"Skatteetaten tilbyr API for \xe5 hente trekkp\xe5legg."}),(0,r.jsx)(t.p,{children:"Hovedtrekkene i det nye grensesnittet er:"}),(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Grensesnittet er et maskin-maskin-grensesnitt som overf\xf8rer trekkp\xe5legg fra Skatteetaten til arbeidsgivere med\nSBS-systemer."}),"\n",(0,r.jsx)(t.li,{children:"Grensesnittet er basert p\xe5 en RESTful-stil som tilbyr et API."}),"\n",(0,r.jsx)(t.li,{children:"SBS m\xe5 sp\xf8rre (poll) mot grensesnittet for \xe5 sjekke om det er nye trekkp\xe5legg."}),"\n",(0,r.jsx)(t.li,{children:"Det vil etter hvert komme et grensesnitt der SBS kan motta notifikasjon (event) om at Skatteetaten har et nytt\ntrekkp\xe5legg til arbeidsgiver."}),"\n",(0,r.jsx)(t.li,{children:"I grensesnittet m\xe5 SBS presentere et token som inneholder organisasjonsnummeret til trekkpliktig arbeidsgiver."}),"\n",(0,r.jsx)(t.li,{children:'Tokenet f\xe5r SBS ved \xe5 koble seg opp mot Maskinporten med et gitt "scope".'}),"\n",(0,r.jsx)(t.li,{children:"Trekkp\xe5legget leveres i formatet JSON."}),"\n"]}),(0,r.jsx)(t.h2,{id:"datakatalog",children:"Datakatalog"}),(0,r.jsx)(t.p,{children:"Dette API-et finnes forel\xf8pig ikke i Felles datakatalog."})]}),(0,r.jsx)(l,{headerText:"Eksempler",itemKey:"itemKey-2"}),(0,r.jsxs)(l,{headerText:"Feilkoder",itemKey:"itemKey-3",children:[(0,r.jsxs)(t.p,{children:["Se egen side for generell info om ",(0,r.jsx)(t.a,{href:"/api-dokumentasjon/om/feil",children:"feilh\xe5ndtering i tjenestene"}),"."]}),(0,r.jsx)(t.p,{children:"Tabellen under viser en oversikt over hvilke spesifikke feilkoder denne applikasjonen kan gi. Feilmeldingen vil kunne\nvariere selv om samme feilkode returneres. Dette er for \xe5 kunne gi en s\xe5 presis beskrivelse av feilen som mulig."}),(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Feilkode"}),(0,r.jsx)(t.th,{children:"HTTP Statuskode"}),(0,r.jsx)(t.th,{children:"Feilomr\xe5de"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"KB-001"}),(0,r.jsx)(t.td,{children:"500"}),(0,r.jsx)(t.td,{children:"Uventet feil p\xe5 tjenesten."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"KB-002"}),(0,r.jsx)(t.td,{children:"500"}),(0,r.jsx)(t.td,{children:"Uventet feil i et bakenforliggende system."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"KB-003"}),(0,r.jsx)(t.td,{children:"404"}),(0,r.jsx)(t.td,{children:"Ukjent url benyttet."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"KB-004"}),(0,r.jsx)(t.td,{children:"401"}),(0,r.jsx)(t.td,{children:"Feil i forbindelse med autentisering."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"KB-005"}),(0,r.jsx)(t.td,{children:"403"}),(0,r.jsx)(t.td,{children:"Feil i forbindelse med samtykketoken."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"KB-006"}),(0,r.jsx)(t.td,{children:"400"}),(0,r.jsx)(t.td,{children:"Feil i forbindelse med validering av inputdata."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"KB-007"}),(0,r.jsx)(t.td,{children:"404"}),(0,r.jsx)(t.td,{children:"Fant ingen krav/betalinger p\xe5 angitt identifikator og periode."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"KB-008"}),(0,r.jsx)(t.td,{children:"406"}),(0,r.jsx)(t.td,{children:"Feil tilknyttet dataformat. Kun json eller xml er st\xf8ttet."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"KB-009"}),(0,r.jsx)(t.td,{children:"404"}),(0,r.jsx)(t.td,{children:"Ingen treff p\xe5 oppgitt identifikator."})]})]})]})]}),(0,r.jsxs)(l,{headerText:"Informasjonsmodell",itemKey:"itemKey-4",children:[(0,r.jsx)(t.p,{children:"Her ser du hele informasjonsmodellen for Krav og betalinger API med alle 4 endepunktene."}),(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(43654).A+"",children:(0,r.jsx)(t.img,{alt:"Informasjonsmodell",src:n(93042).A+"",width:"1651",height:"1940"})})})]}),(0,r.jsxs)(l,{headerText:"Test",itemKey:"itemKey-5",children:[(0,r.jsx)(t.p,{children:"I f\xf8rste omgang er det test kun tilgjengelig for et utvalg leverand\xf8rer som det er inng\xe5tt avtale med og som skal v\xe6re\nmed \xe5 pilotere l\xf8sningene."}),(0,r.jsx)(t.h2,{id:"tenor-testdatas\xf8k",children:"Tenor testdatas\xf8k"}),(0,r.jsxs)(t.p,{children:["Det finnes pt. ikke s\xf8k i ",(0,r.jsx)(t.a,{href:"/api-dokumentasjon/test/tenor",children:"Tenor"})," for denne tjenesten, og testdata er derfor listet her.\nMen egenskaper ved enhetene som har testdata kan s\xf8kes frem i Tenor."]}),(0,r.jsx)(t.h2,{id:"testdata",children:"Testdata"}),(0,r.jsx)(t.p,{children:"F\xf8lgende enkeltmannsforetak (ENK) er tilgjengelige for denne tjenesten i Skatteetatens testmilj\xf8 for eksterne.\nV\xe6r oppmerksom p\xe5 at det er et levende testdatasett som kan endre seg i l\xf8pet av testperioden. Ta kontakt dersom du har\nbehov for ytterligere testdata."}),(0,r.jsx)(t.p,{children:"Obs. regnskapssystemer som tester vil i Test kunne gj\xf8re oppslag p\xe5 alle testvirksomheter, selv om de i pilotperioden\nkun kan gj\xf8re oppslag for egen virksomhet i Prod."}),(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsx)(t.tr,{children:(0,r.jsx)(t.th,{children:"Organisasjonsnummer"})})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsx)(t.tr,{children:(0,r.jsx)(t.td,{children:"313367002"})}),(0,r.jsx)(t.tr,{children:(0,r.jsx)(t.td,{children:"311851381"})}),(0,r.jsx)(t.tr,{children:(0,r.jsx)(t.td,{children:"314961900"})}),(0,r.jsx)(t.tr,{children:(0,r.jsx)(t.td,{children:"314055403"})}),(0,r.jsx)(t.tr,{children:(0,r.jsx)(t.td,{children:"212201782"})})]})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(k,{...e})}):k(e)}function c(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},43654:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/files/Informasjonsmodell_Kravogbetalinger-83b7cef76d3e289656f523575a0becfd.png"},93042:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/Informasjonsmodell_Kravogbetalinger-83b7cef76d3e289656f523575a0becfd.png"},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>d});var s=n(96540);const r={},i=s.createContext(r);function l(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);