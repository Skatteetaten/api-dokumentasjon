"use strict";(self.webpackChunkapi_dokumentasjon=self.webpackChunkapi_dokumentasjon||[]).push([[3349],{46008:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>k,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var r=n(74848),s=n(28453);const o={title:"Bruk av API-er for deling",slug:"/om/bruk",folder:"om",sidebar:"mydoc_sidebar",datatable:!0,tags:["API"],keywords:["API","dokumentasjon"],last_updated:"Nov 12, 2024",hide_table_of_contents:!0},i=void 0,a={id:"om/bruk",title:"Bruk av API-er for deling",description:"Overordnet om Skatteetatens API-er for deling.",source:"@site/docs/om/bruk.md",sourceDirName:"om",slug:"/om/bruk",permalink:"/api-dokumentasjon/en/om/bruk",draft:!1,unlisted:!1,tags:[{inline:!0,label:"API",permalink:"/api-dokumentasjon/en/tags/api"}],version:"current",frontMatter:{title:"Bruk av API-er for deling",slug:"/om/bruk",folder:"om",sidebar:"mydoc_sidebar",datatable:!0,tags:["API"],keywords:["API","dokumentasjon"],last_updated:"Nov 12, 2024",hide_table_of_contents:!0},sidebar:"docs",previous:{title:"Kom i gang",permalink:"/api-dokumentasjon/en/"},next:{title:"Delegere rettigheter i Altinn",permalink:"/api-dokumentasjon/en/om/delegering"}},d={},l=[{value:"Oppslagstjenester",id:"oppslagstjenester",level:2},{value:"Hendelser",id:"hendelser",level:2},{value:"Format",id:"format",level:2},{value:"Bruksm\xf8nster",id:"bruksm\xf8nster",level:2}];function m(e){const t={a:"a",blockquote:"blockquote",em:"em",h2:"h2",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components},{Summary:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Summary",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n,{children:"Overordnet om Skatteetatens API-er for deling."}),"\n",(0,r.jsx)(t.p,{children:"Bruk av Skatteetatens API-er for deling forutsetter f\xf8lgende:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Bruk av ",(0,r.jsx)(t.a,{href:"/api-dokumentasjon/en/om/sikkerhet",children:"Maskinporten"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Virksomheten m\xe5 f\xe5 ",(0,r.jsx)(t.a,{href:"https://www.skatteetaten.no/deling/",children:"tilgang"})," til tjenesten."]}),"\n",(0,r.jsxs)(t.li,{children:["Dersom virksomheten skal benytte en systemleverand\xf8r, m\xe5 det ",(0,r.jsx)(t.a,{href:"/api-dokumentasjon/en/om/delegering",children:"delegeres tilgang i Altinn"}),"."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"oppslagstjenester",children:"Oppslagstjenester"}),"\n",(0,r.jsx)(t.p,{children:'Skatteetaten deler informasjon med eksterne virksomheter gjennom gjenbrukbare oppslagstjenester for definerte datasett. Minimeringsprinsippet iveretas gjennom at Skatteetaten filtrerer resultatsettet iht. virksomhetens behov ("Rettighetspakke").'}),"\n",(0,r.jsx)(t.h2,{id:"hendelser",children:"Hendelser"}),"\n",(0,r.jsx)(t.p,{children:"Skatteetaten varsler om endringer i data gjennom bruk av hendelseslister. En hendelse er et varsel om at det er kommet nye data, slettede data eller endrede data. Hendelser er \u201ctynne\u201d, dvs at de ikke inneholder selve dataene. Hendelsen inneholder kun et sekvensnummer, personidentifikator og perioden det har skjedd en hendelse for."}),"\n",(0,r.jsxs)(t.p,{children:["Noen virksomheter benytter hendelseslistene for \xe5 f\xf8lge med p\xe5 endringer i data de allerede har hentet gjennom oppslagstjenesten, mens andre \xf8nsker \xe5 f\xf8lge med p\xe5 nye data for et stort antall (eller alle) personer eller virksomheter. For \xe5 st\xf8tte disse bruksm\xf8nstrene publiserer vi hendelser per datatjeneste, som gir l\xf8pende varslinger om at opplysninger knyttet til en person eller virksomhet er endret. Se egen dokumentasjon for ",(0,r.jsx)(t.a,{href:"/api-dokumentasjon/en/api/hendelser",children:"de ulike hendelseslistene"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"Der det finnes hendelseslister, skal disse benyttes og data kun hentes p\xe5 nytt n\xe5r det er lagt ut en hendelse i hendelseslisten. Vi \xf8nsker ikke at det gj\xf8res periodiske oppslag for \xe5 sjekke om det er endringer i data."}),"\n",(0,r.jsx)(t.p,{children:"Endringer og rettelser i innrapporterte data kan komme lang tid i etterkant. Virksomheter som er avhengige av \xe5 re-beregne hvis det kommer endringer b\xf8r benytte hendelseslister for datatypene de benytter for \xe5 oppdage endringer."}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.em,{children:"Eksempel:"})," En virksomhet har hentet inntektsmottaker data for en skattepliktig for mars 2017. Virksomheten \xf8nsker \xe5 reagere hvis det blir endringer i data.\nVirksomheten benytter hendelsesliste for inntektsmottaker for \xe5 f\xf8lge med p\xe5 om det skjer endringer for den skattepliktige for mars 2017.\nI oktober 2017 har hendelseslisten et innslag for den skattepliktige for mars 2017. Virksomheten reagerer ved \xe5 hente oppdaterte data for den skattepliktige for mars 2017."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"format",children:"Format"}),"\n",(0,r.jsx)(t.p,{children:"Tjenestene er tilgjengelige som REST-tjenester over HTTP, med data p\xe5 formatene JSON (default) og XML.\nDersom man ikke spesifiserer \xf8nsket format f\xe5r man JSON. Skatteetaten oppfordrer til \xe5 benytte JSON fremfor XML."}),"\n",(0,r.jsx)(t.h2,{id:"bruksm\xf8nster",children:"Bruksm\xf8nster"}),"\n",(0,r.jsx)(t.p,{children:"Det er mange konsumenter av Skatteetatens tjenester og det er derfor viktig at hver enkelt virksomhet har et fornuftig og forholdsmessig bruk av tjenestene."}),"\n",(0,r.jsx)(t.p,{children:"Det medf\xf8rer blant annet:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:'Det b\xf8r ikke v\xe6re mer enn 5 samtidige kall ("tr\xe5der") for et api fra en virksomhet.'}),"\n",(0,r.jsx)(t.li,{children:"Hendelsesliste benyttes som beskrevet ovenfor."}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Skatteetaten f\xf8lger med p\xe5 ressursbruk og vil evt. regulere ved behov."})]})}function k(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var r=n(96540);const s={},o=r.createContext(s);function i(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);