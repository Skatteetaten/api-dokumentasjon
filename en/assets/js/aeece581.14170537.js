"use strict";(self.webpackChunkapi_dokumentasjon=self.webpackChunkapi_dokumentasjon||[]).push([[9246],{81345:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>j,frontMatter:()=>a,metadata:()=>r,toc:()=>o});var s=t(74848),l=t(28453);const a={title:"Tjenestepensjonsavtale API",slug:"/api/tjenestepensjonsavtale",folder:"folder",sidebar:"mydoc_sidebar",datatable:!0,tags:["API","Inntekt","Tjenestepensjonsavtale"],keywords:["tjenestepensjonsavtale"],last_updated:"Mar 6, 2023",hide_table_of_contents:!0},i=void 0,r={id:"api/tjenestepensjonsavtale",title:"Tjenestepensjonsavtale API",description:"Tjeneste hvor pensjonsinnretninger kan registrere, oppdatere og slette opplysninger om pensjonsavtaleforhold. Tjenesten kan ogs\xe5 levere informasjon om det foreligger gyldig avtaleforhold mellom arbeidsgiver og pensjonsinnretning.",source:"@site/docs/api/tjenestepensjonsavtale.md",sourceDirName:"api",slug:"/api/tjenestepensjonsavtale",permalink:"/api-dokumentasjon/en/api/tjenestepensjonsavtale",draft:!1,unlisted:!1,tags:[{inline:!0,label:"API",permalink:"/api-dokumentasjon/en/tags/api"},{inline:!0,label:"Inntekt",permalink:"/api-dokumentasjon/en/tags/inntekt"},{inline:!0,label:"Tjenestepensjonsavtale",permalink:"/api-dokumentasjon/en/tags/tjenestepensjonsavtale"}],version:"current",frontMatter:{title:"Tjenestepensjonsavtale API",slug:"/api/tjenestepensjonsavtale",folder:"folder",sidebar:"mydoc_sidebar",datatable:!0,tags:["API","Inntekt","Tjenestepensjonsavtale"],keywords:["tjenestepensjonsavtale"],last_updated:"Mar 6, 2023",hide_table_of_contents:!0},sidebar:"docs",previous:{title:"Tilleggsskatt API",permalink:"/api-dokumentasjon/en/api/tilleggsskatt"},next:{title:"Trukket kildeskatt p\xe5 l\xf8nn API",permalink:"/api-dokumentasjon/en/api/trukketkildeskattpaaloenn"}},d={},o=[{value:"Scope",id:"scope",level:2},{value:"Delegering",id:"delegering",level:2},{value:"Teknisk spesifikasjon",id:"teknisk-spesifikasjon",level:2},{value:"Rettighetspakker",id:"rettighetspakker",level:2},{value:"Datakatalog",id:"datakatalog",level:2},{value:"Hent avtaleforhold gyldighet",id:"hent-avtaleforhold-gyldighet",level:2},{value:"Curl",id:"curl",level:3},{value:"JSON",id:"json",level:3},{value:"XML",id:"xml",level:3},{value:"Hent virkningsperiode gyldighet",id:"hent-virkningsperiode-gyldighet",level:2},{value:"Curl",id:"curl-1",level:3},{value:"Eksempel p\xe5 respons",id:"eksempel-p\xe5-respons",level:4},{value:"Registrere/endre avtale",id:"registrereendre-avtale",level:2},{value:"Curl",id:"curl-2",level:3},{value:"Dokumentformat",id:"dokumentformat",level:3},{value:"Slette avtale",id:"slette-avtale",level:2},{value:"Curl",id:"curl-3",level:3},{value:"Dokumentformat",id:"dokumentformat-1",level:3},{value:"Tenor testdatas\xf8k",id:"tenor-testdatas\xf8k",level:2},{value:"Testdata",id:"testdata",level:2}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components},{Summary:a,TabItem:i,Tabs:r}=n;return a||p("Summary",!0),i||p("TabItem",!0),r||p("Tabs",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a,{children:"Tjeneste hvor pensjonsinnretninger kan registrere, oppdatere og slette opplysninger om pensjonsavtaleforhold. Tjenesten kan ogs\xe5 levere informasjon om det foreligger gyldig avtaleforhold mellom arbeidsgiver og pensjonsinnretning."}),"\n",(0,s.jsxs)(r,{underline:!0,children:[(0,s.jsxs)(i,{headerText:"Om tjenesten",itemKey:"itemKey-1",default:!0,children:[(0,s.jsx)(n.p,{children:"For generell informasjon om tjenestene se egne sider om:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/api-dokumentasjon/en/om/bruk",children:"Bruk av tjenestene"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/api-dokumentasjon/en/om/sikkerhet",children:"Sikkerhetsmekansimer"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/api-dokumentasjon/en/om/rettighetspakker",children:"Rettighetspakker"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/api-dokumentasjon/en/om/feil",children:"Feilh\xe5ndtering"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/api-dokumentasjon/en/om/versjoner",children:"Versjonering"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/api-dokumentasjon/en/om/tekniskspesifikasjon",children:"Teknisk spesifikasjon"})}),"\n"]}),(0,s.jsx)(n.h2,{id:"scope",children:"Scope"}),(0,s.jsxs)(n.p,{children:["F\xf8lgende scope skal benyttes ved autentisering i Maskinporten: ",(0,s.jsx)(n.code,{children:"skatteetaten:tjenestepensjonsavtale"})]}),(0,s.jsx)(n.h2,{id:"delegering",children:"Delegering"}),(0,s.jsxs)(n.p,{children:["Tilgang til dette API-et kan delegeres i Altinn, f.eks. dersom leverand\xf8r benyttes for den tekniske oppkoblingen. S\xf8k opp f\xf8lgende tjeneste i Altinn for \xe5 delegere tilgangen: ",(0,s.jsx)(n.code,{children:"Tjenestepensjonsavtale API - P\xe5 vegne av"})]}),(0,s.jsx)(n.h2,{id:"teknisk-spesifikasjon",children:"Teknisk spesifikasjon"}),(0,s.jsxs)(n.p,{children:["URL-er til API-et, beskrivelsen av parameterne, endepunkter og respons ligger i ",(0,s.jsx)(n.a,{href:"https://app.swaggerhub.com/apis/skatteetaten/tjenestepensjonsavtale-api",children:"Open API spesifikasjonen"})," p\xe5 SwaggerHub."]}),(0,s.jsx)(n.h2,{id:"rettighetspakker",children:"Rettighetspakker"}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsx)(n.tr,{children:(0,s.jsx)(n.th,{children:"Navn p\xe5 rettighetspakke"})})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsx)(n.tr,{children:(0,s.jsx)(n.td,{children:"nav"})}),(0,s.jsx)(n.tr,{children:(0,s.jsx)(n.td,{children:"otp"})})]})]}),(0,s.jsx)(n.h2,{id:"datakatalog",children:"Datakatalog"}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://data.norge.no/dataservices/8018e29d-f608-31b6-965e-00c290386612",children:"Datatjenestebeskrivelse"})," i Felles datakatalog."]})]}),(0,s.jsxs)(i,{headerText:"Eksempler",itemKey:"itemKey-2",children:[(0,s.jsx)(n.h2,{id:"hent-avtaleforhold-gyldighet",children:"Hent avtaleforhold gyldighet"}),(0,s.jsx)(n.h3,{id:"curl",children:"Curl"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'$ curl -v -H "Authorization: Bearer {maskinporten_token}" "https://api-test.sits.no/api/tjenestepensjonsavtale/v1/{rettighetspakke}/avtaleforhold/gyldighet?opplysningspliktig=987654321&pensjonsinnretning=123456789&fraOgMed=2020-01&tilOgMed=2020-06"\n'})}),(0,s.jsx)(n.h3,{id:"json",children:"JSON"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "gyldig": "false",\n  "maanederUtenGyldigAvtaleforhold": {\n    "maaned": [\n      "2020-01",\n      "2020-02",\n      "2020-04"\n    ]\n  }\n}\n'})}),(0,s.jsx)(n.h3,{id:"xml",children:"XML"}),(0,s.jsxs)(n.p,{children:["For svar p\xe5 XML format, sett header ",(0,s.jsx)(n.code,{children:"Accept"})," til ",(0,s.jsx)(n.code,{children:"application/xml"}),":"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'$ curl -v -H "Accept: application/xml" -H "Authorization: Bearer {maskinporten_token}" "https://api-test.sits.no/api/tjenestepensjonsavtale/v1/{rettighetspakke}/avtaleforhold/gyldighet?opplysningspliktig=987654321&pensjonsinnretning=123456789&fraOgMed=2020-01&tilOgMed=2020-06"\n'})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:t(63614).A+"",children:"tjenestepensjonsavtaleAvtaleforholdGyldighet.xsd"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:t(86243).A+"",children:"tjenestepensjonsavtaleAvtaleforholdGyldighet.xml (eksempel)"})}),(0,s.jsx)(n.h2,{id:"hent-virkningsperiode-gyldighet",children:"Hent virkningsperiode gyldighet"}),(0,s.jsx)(n.h3,{id:"curl-1",children:"Curl"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'$ curl -v -H "Authorization: Bearer {maskinporten_token}" "https://api-test.sits.no/api/tjenestepensjonsavtale/v1/{rettighetspakke}/avtaleforhold/virkningsperiode/gyldighet?opplysningspliktig=987654321&pensjonsinnretning=123456789&fraOgMed=2020-01&tilOgMed=2020-06"\n'})}),(0,s.jsx)(n.h4,{id:"eksempel-p\xe5-respons",children:"Eksempel p\xe5 respons"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "gyldig": false,\n    "maanederUtenforGyldigVirkningsperiode": {\n        "maaned": [\n            "2020-01",\n            "2020-02",\n            "2020-03"\n        ]\n    }\n} \n'})}),(0,s.jsx)(n.h2,{id:"registrereendre-avtale",children:"Registrere/endre avtale"}),(0,s.jsx)(n.h3,{id:"curl-2",children:"Curl"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'$ curl -v -H "Content-Type: application/json" -H "Authorization: Bearer {maskinporten_token}" -X POST -d \'{"avtalereferanse" : "referanse til avtale","fraOgMed" : "2020-01","opplysningspliktig" : {"norskIdentifikator" : "999999999"}}\' "https://api-test.sits.no/api/tjenestepensjonsavtale/v1/{rettighetspakke}/avtaleforhold"\n'})}),(0,s.jsx)(n.h3,{id:"dokumentformat",children:"Dokumentformat"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:t(80007).A+"",children:"TjenestepensjonsavtaleAvtaleforholdV1.xsd"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:t(12352).A+"",children:"TjenestepensjonsavtaleAvtaleforholdV1.json"})}),(0,s.jsx)(n.h2,{id:"slette-avtale",children:"Slette avtale"}),(0,s.jsx)(n.h3,{id:"curl-3",children:"Curl"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'$ curl -v -H "Content-Type: application/json" -H "Authorization: Bearer {maskinporten_token}" -X DELETE -d \'{"avtalereferanse" : "referanse til avtale","opplysningspliktig" : {"norskIdentifikator" : "999999999"}}\' "https://api-test.sits.no/api/tjenestepensjonsavtale/v1/{rettighetspakke}/avtaleforhold"\n'})}),(0,s.jsx)(n.h3,{id:"dokumentformat-1",children:"Dokumentformat"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:t(85015).A+"",children:"TjenestepensjonsavtaleAvtaleforholdSlettV1.xsd"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:t(80592).A+"",children:"TjenestepensjonsavtaleAvtaleforholdSlettV1.json"})})]}),(0,s.jsxs)(i,{headerText:"Feilkoder",itemKey:"itemKey-3",children:[(0,s.jsxs)(n.p,{children:["Se egen side for generell info om ",(0,s.jsx)(n.a,{href:"/api-dokumentasjon/en/om/feil",children:"feilh\xe5ndtering i tjenestene"}),"."]}),(0,s.jsx)(n.p,{children:"Tabellen under viser en oversikt over hvilke spesifikke feilkoder denne applikasjonen kan gi. Feilmeldingen vil kunne variere selv om samme feilkode returneres. Dette er for \xe5 kunne gi en s\xe5 presis beskrivelse av feilen som mulig."}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feilkode"}),(0,s.jsx)(n.th,{children:"HTTP Statuskode"}),(0,s.jsx)(n.th,{children:"Feilomr\xe5de"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OTP-001"}),(0,s.jsx)(n.td,{children:"500"}),(0,s.jsx)(n.td,{children:"Uventet feil p\xe5 tjenesten."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OTP-002"}),(0,s.jsx)(n.td,{children:"500"}),(0,s.jsx)(n.td,{children:"Uventet feil i et bakenforliggende system."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OTP-003"}),(0,s.jsx)(n.td,{children:"404"}),(0,s.jsx)(n.td,{children:"Ukjent url benyttet."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OTP-004"}),(0,s.jsx)(n.td,{children:"401"}),(0,s.jsx)(n.td,{children:"Feil i forbindelse med autentisering."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OTP-005"}),(0,s.jsx)(n.td,{children:"403"}),(0,s.jsx)(n.td,{children:"Feil i forbindelse med autorisering."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OTP-006"}),(0,s.jsx)(n.td,{children:"400"}),(0,s.jsx)(n.td,{children:"Feil i forbindelse med validering av inputdata."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OTP-007"}),(0,s.jsx)(n.td,{children:"404"}),(0,s.jsx)(n.td,{children:"Ingen data funnet p\xe5 oppgitte inputparametere."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OTP-008"}),(0,s.jsx)(n.td,{children:"406"}),(0,s.jsx)(n.td,{children:"Feil tilknyttet dataformat. Kun json eller xml er st\xf8ttet."})]})]})]})]}),(0,s.jsxs)(i,{headerText:"Informasjonsmodell",itemKey:"itemKey-4",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://data.norge.no/informationmodels/c73e4045-9121-39df-adcc-e44161969434",children:"Informasjonsmodell"})," i Felles datakatalog."]}),(0,s.jsx)(n.p,{children:"Obs. Hvis modellene p\xe5 denne siden avviker fra Open API spesifikasjonen p\xe5 Swaggerhub, er det Open API spesifikasjonen som er mest oppdatert."}),(0,s.jsx)(n.p,{children:"Tjenesten tilbyr f\xf8lgende endepunkt med forskjellige modeller:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/api-dokumentasjon/en/avtaleforhold",children:"Opprette eller endre avtaleforhold"})," ",(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/api-dokumentasjon/en/avtaleforhold_slette",children:"Slette avtaleforhold"})," ",(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/api-dokumentasjon/en/avtaleforhold_gyldighet",children:"Sjekk om gyldig avtaleforhold finnes for periode"})," ",(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/api-dokumentasjon/en/virkningsperiode_gyldighet",children:"Sjekk om gyldig virkningsperioden for et avtaleforholdet finnes for periode"})," ",(0,s.jsx)("br",{})]}),"\n"]})]}),(0,s.jsxs)(i,{headerText:"Test",itemKey:"itemKey-5",children:[(0,s.jsx)(n.h2,{id:"tenor-testdatas\xf8k",children:"Tenor testdatas\xf8k"}),(0,s.jsxs)(n.p,{children:["Testdata for tjenesten kan finnes i ",(0,s.jsx)(n.a,{href:"/api-dokumentasjon/en/test/tenor",children:"Tenor"}),' med s\xf8kene for "Tjenestepensjonsavtale" b\xe5de for personer og virksomheter.']}),(0,s.jsx)(n.h2,{id:"testdata",children:"Testdata"}),(0,s.jsx)(n.p,{children:"Tjenestepensjonsavtaler for personer med adressebeskyttelse fortrolig og strengt fortrolig er ikke s\xf8kbare i Tenor, tabell med parter er distribuert via BITS."})]})]})]})}function j(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}function p(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},80592:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/files/TjenestepensjonsavtaleAvtaleforholdSlettV1-65eb14229fd80b290edd9986b64806d8.json"},85015:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/files/TjenestepensjonsavtaleAvtaleforholdSlettV1-4e7793c0dfcb4895cbd5053cf317e05b.xsd"},12352:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/files/TjenestepensjonsavtaleAvtaleforholdV1-671ae646bbafa96fc960e0668240fd43.json"},80007:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/files/TjenestepensjonsavtaleAvtaleforholdV1-f14adce1d338db46a70542605b699c4a.xsd"},86243:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/files/tjenestepensjonsavtaleAvtaleforholdGyldighet-e5b21ea8c94eeefb53537f982425484c.xml"},63614:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/files/tjenestepensjonsavtaleAvtaleforholdGyldighetV1-89db2e64ef68688a60c85e812dc5e433.xsd"},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>r});var s=t(96540);const l={},a=s.createContext(l);function i(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);