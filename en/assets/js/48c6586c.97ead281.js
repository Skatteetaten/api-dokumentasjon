"use strict";(self.webpackChunkapi_dokumentasjon=self.webpackChunkapi_dokumentasjon||[]).push([[426],{82193:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>g,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"om/bruk_innrapportering","title":"Bruk av API-er for innrapportering","description":"Bruk av re-etablerte tjenester for innrapportering mot Skatteetaten.","source":"@site/docs/om/bruk_innrapportering.md","sourceDirName":"om","slug":"/om/bruk_innrapportering","permalink":"/api-dokumentasjon/en/om/bruk_innrapportering","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Systemlandskap","permalink":"/api-dokumentasjon/en/tags/systemlandskap"},{"inline":true,"label":"Reetablering","permalink":"/api-dokumentasjon/en/tags/reetablering"},{"inline":true,"label":"Altinn3","permalink":"/api-dokumentasjon/en/tags/altinn-3"},{"inline":true,"label":"Innrapportering","permalink":"/api-dokumentasjon/en/tags/innrapportering"}],"version":"current","frontMatter":{"title":"Bruk av API-er for innrapportering","slug":"/om/bruk_innrapportering","folder":"om","sidebar":"mydoc_sidebar","datatable":true,"tags":["Systemlandskap","Reetablering","Altinn3","Innrapportering"],"keywords":["datatables","tables","grids","markdown","multimarkdown","jquery plugins"],"last_updated":"Nov 13, 2025","hide_table_of_contents":true},"sidebar":"docs","previous":{"title":"Bruk av API-er for deling","permalink":"/api-dokumentasjon/en/om/bruk"},"next":{"title":"Delegere rettigheter i Altinn","permalink":"/api-dokumentasjon/en/om/delegering"}}');var s=t(74848),o=t(28453);const a={title:"Bruk av API-er for innrapportering",slug:"/om/bruk_innrapportering",folder:"om",sidebar:"mydoc_sidebar",datatable:!0,tags:["Systemlandskap","Reetablering","Altinn3","Innrapportering"],keywords:["datatables","tables","grids","markdown","multimarkdown","jquery plugins"],last_updated:"Nov 13, 2025",hide_table_of_contents:!0},i=void 0,l={},d=[{value:"Forenklet forklaring av stegene",id:"forenklet-forklaring-av-stegene",level:2}];function k(e){const n={a:"a",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",...(0,o.R)(),...e.components},{Summary:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Summary",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r,{children:" Bruk av re-etablerte tjenester for innrapportering mot Skatteetaten."}),"\n",(0,s.jsx)(n.p,{children:"I forbindelse med utfasing av Altinn 2 vil alle tjenester re-etableres hos Skatteetaten.\nOvergangen medf\xf8rer at konsumenter av Skatteetatens tjenester m\xe5 forholde seg til flere nye systemer og opprette nye\nintegrasjoner.\nMaskinporten med systembruker blir innf\xf8rt som standard l\xf8sning for autentisering og autorisering."}),"\n",(0,s.jsx)(n.p,{children:"Figuren under viser hvilke systemer som er involvert i re-etablert l\xf8sning, og hvilke integrasjoner som oppn\xe5r hva i en\nstandard prosess."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"systemlandskap",src:t(39781).A+"",width:"1630",height:"1203"})}),"\n",(0,s.jsx)(n.h2,{id:"forenklet-forklaring-av-stegene",children:"Forenklet forklaring av stegene"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"SBS m\xe5 onboardes Maskinporten, opprette klient og skaffe seg tilgang til alle scopes man trenger for \xe5 benytte\ntjenester hos\nSkatteetaten og Digdir. Hvilke scopes man trenger, varierer etter hvilke tjenester man \xf8nsker \xe5 benytte. Scopes man\ntrenger for Skatteetatens tjenester er n\xe6rmere beskrevet i dokumentasjon for hver tjeneste. I\nMaskinporten benyttes reellt organisasjonsnummer for oppkoblingen, b\xe5de i test og produksjon."}),"\n",(0,s.jsx)(n.li,{children:"SBS m\xe5 registreres i systemregisteret til Digdir. Her m\xe5 man ogs\xe5 sette opp alle tilgangspakker og/eller\nenkelttjenester systembrukerne tilknyttet systemet skal kunne benytte. Systemet i systemregisteret kobles til\nMaskinporten-klienten man opprettet i steg 1. Systemet kobles ogs\xe5 til reellt organisasjonsnummer b\xe5de i test og\nproduksjon."}),"\n",(0,s.jsxs)(n.li,{children:["SBS m\xe5 opprette systembrukere for sine kunder. Forskjellige systemer vil ha forskjellige behov for systembrukere\navhengig av hvilke kunder de har. Systembrukere knyttes ogs\xe5 til tilgangspakker og/eller enkelttjenester. Disse\ntilgangspakkene og/eller enkelttjenestene m\xe5 v\xe6re et sub-sett av tilgangspakkene og/eller enkelttjenestene som er\nsatt opp for systemet i steg 2. Vi anbefaler \xe5 starte ",(0,s.jsx)(n.a,{href:"https://samarbeid.digdir.no/altinn/systembruker/2542",children:"her"})," for\n\xe5 forst\xe5 hva en systembruker er. I test kreves det at systembrukere opprettes for syntetiske organisasjoner funnet\ni ",(0,s.jsx)(n.a,{href:"https://www.skatteetaten.no/testdata/",children:"Tenor testdatas\xf8k"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"SBS-kundene m\xe5 godkjenne at SBS kan operere p\xe5 vegne av dem, ved \xe5 godkjenne opprettelse av systembruker i Altinn\nbrukerflate. Her m\xe5 person med klientadministrator- eller hovedadministrator-rolle/tilgangspakke logge inn i Altinn\nog godkjenne p\xe5 vegne av organisasjonen. Ved bruk av systembruker for klientforhold, m\xe5 SBS-kunde ogs\xe5 s\xf8rge\nfor at systembrukeren har de rette tilgangene til \xe5 operere p\xe5 vegne av deres klienter."}),"\n",(0,s.jsx)(n.li,{children:"SBS oppretter integrasjon mot Skatteetatens tjeneste (se mer info under dokumentasjon for hvert spesifikke API) og\nkaller denne med et token fra Maskinporten med systembruker.\nSkatteetaten vil autentisere kallet mot Maskinporten og autorisere mot Altinn Autorisasjon at systembrukeren har\ntilgang til \xe5 operere p\xe5 vegne av den dataene omhandler for en gitt tjenesteressurs."}),"\n",(0,s.jsx)(n.li,{children:"Skatteetaten oppretter n\xf8dvendige dialoger i Dialogporten, med tilknyttede forsendelser. Hvilke dialoger og\nforsendelser som opprettes kan variere fra tjeneste til tjeneste, men ofte opprettes det dialoger b\xe5de for den\norganisasjonen dataene omhandler og ogs\xe5 for organisasjonen tilknyttet systembrukeren. Det opprettes som regel en\nforsendelse for innrapporteringen og en annen forsendelse for tilbakemeldingen fra Skatteetaten."}),"\n",(0,s.jsx)(n.li,{children:"Gjennom integrasjon med Altinn Events kan man abonnere p\xe5 hendelser som skjer i Dialogporten p\xe5 vegne av en\norganisasjon. P\xe5 denne m\xe5ten vil SBS kunne f\xe5 beskjed n\xe5r for eksempel en tilbakemelding har kommet p\xe5 en gitt\ninnrapportering."}),"\n",(0,s.jsx)(n.li,{children:"Gjennom integrasjon med Dialogporten kan SBS se status p\xe5 innrapporteringer, og hente ut identifikatorer p\xe5\nforsendendelser og dokumenter. Denne integrasjonen krever ogs\xe5 token fra Maskinporten med systembruker."}),"\n",(0,s.jsx)(n.li,{children:"De fleste tjenester har API for \xe5 hente ut dokumenter tilknyttet forsendelser, for eksempel innsendinger og\ntilbakemeldinger. Disse API-ene krever som regel identifikatorer for forsendelse og dokument som du f\xe5r fra\nDialogporten i steg 8."}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(k,{...e})}):k(e)}},39781:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/systemlandskap_altinn3_tjenester-81e3858da48e051a89f1c7f90e993a23.png"},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>i});var r=t(96540);const s={},o=r.createContext(s);function a(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);